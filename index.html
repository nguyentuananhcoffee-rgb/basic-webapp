<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý nhân viên quán cafe</title>

    <style>
        :root {
            --bg: #f5f7fb;
            --primary: #6c5ce7;
            --primary-strong: #5541d8;
            --accent: #00b894;
            --text: #1f2937;
            --muted: #6b7280;
            --surface: #ffffff;
            --border: #e5e7eb;
            --danger: #ef4444;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: var(--bg);
            color: var(--text);
        }

        .page {
            max-width: 1200px;
            margin: auto;
            padding: 24px;
        }

        header.hero {
            background: linear-gradient(135deg, #6c5ce7, #4b3fc4);
            border-radius: 20px;
            padding: 24px;
            color: #fff;
            margin-bottom: 20px;
        }

        h1 { margin: 0 0 10px; }

        .grid {
            display: grid;
            grid-template-columns: 1.4fr 1fr;
            gap: 20px;
        }

        .panel {
            background: #fff;
            border-radius: 16px;
            padding: 18px;
            border: 1px solid var(--border);
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 12px;
        }

        input, select, textarea {
            width: 100%;
            padding: 10px;
            border-radius: 10px;
            border: 1px solid var(--border);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 10px;
            border-bottom: 1px solid var(--border);
        }

        th { background: #f8f9fb; }

        .btn {
            padding: 10px 14px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            font-weight: 600;
        }

        .btn.primary {
            background: var(--primary);
            color: #fff;
        }

        .btn.secondary {
            background: #eef2ff;
        }

        .btn.danger {
            background: #fee2e2;
            color: #b91c1c;
        }

        @media (max-width: 900px) {
            .grid { grid-template-columns: 1fr; }
        }
    </style>
</head>

<body>
<div class="page">

    <header class="hero">
        <h1>Quản lý nhân viên quán cafe</h1>
        <p>Lưu thông tin, quản lý ca làm và trạng thái nhân viên</p>
    </header>

    <div class="grid">

        <section class="panel">
            <h2>Danh sách nhân viên</h2>

            <div class="controls">
                <input id="searchInput" placeholder="Tìm theo tên hoặc vị trí">
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Tên</th>
                        <th>Vị trí</th>
                        <th>Ca</th>
                        <th>Trạng thái</th>
                        <th>Thao tác</th>
                    </tr>
                </thead>
                <tbody id="employeeTable"></tbody>
            </table>
        </section>

        <section class="panel">
            <h2>Thêm / chỉnh sửa</h2>

            <form id="employeeForm">
                <input id="name" placeholder="Họ tên" required>
                <input id="role" placeholder="Vị trí" required>

                <select id="shift" required>
                    <option value="">Chọn ca</option>
                    <option>Ca sáng</option>
                    <option>Ca chiều</option>
                    <option>Ca tối</option>
                </select>

                <label>
                    <input type="checkbox" id="onDuty" checked>
                    Đang làm
                </label>

                <textarea id="notes" placeholder="Ghi chú"></textarea>

                <button class="btn primary">Lưu</button>
            </form>
        </section>

    </div>
</div>

<script>
    const storageKey = "cafeEmployees";
    let employees = [];

    const table = document.getElementById("employeeTable");
    const form = document.getElementById("employeeForm");

    function save() {
        localStorage.setItem(storageKey, JSON.stringify(employees));
    }

    function load() {
        employees = JSON.parse(localStorage.getItem(storageKey) || "[]");
    }

    function render() {
        table.innerHTML = employees.map((e, i) => `
            <tr>
                <td>${e.name}</td>
                <td>${e.role}</td>
                <td>${e.shift}</td>
                <td>${e.onDuty ? "Đang làm" : "Nghỉ"}</td>
                <td>
                    <button class="btn danger" onclick="removeEmp(${i})">Xóa</button>
                </td>
            </tr>
        `).join("");
    }

    function removeEmp(i) {
        employees.splice(i, 1);
        save();
        render();
    }

    form.onsubmit = e => {
        e.preventDefault();
        employees.unshift({
            name: name.value,
            role: role.value,
            shift: shift.value,
            onDuty: onDuty.checked,
            notes: notes.value
        });
        form.reset();
        onDuty.checked = true;
        save();
        render();
    };

    load();
    render();
</script>
</body>
</html>
